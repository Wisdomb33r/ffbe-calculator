<h1>{{'calculation.display.damageCalculation' | translate}}</h1>
<table>
  <tr>
    <td>{{'mag' | translate}}</td>
    <td>{{result.mag | number:'1.0-0'}}</td>
  </tr>
  <tr>
    <td>{{'calculation.display.supportBuff' | translate}}</td>
    <td>
      <mat-checkbox [(ngModel)]="algorithm.isSupportBuffing" (change)="calculateBuild()">
        {{algorithm.supportBuff}}%
      </mat-checkbox>
    </td>
  </tr>
  <tr>
    <td>{{'calculation.display.buffedMag' | translate}}</td>
    <td>{{result.buffedMag | number:'1.0-0'}}</td>
  </tr>
  <tr>
    <td>{{'calculation.display.opponentSpr' | translate}}</td>
    <td>{{algorithm.opponentSpr}}</td>
  </tr>
</table>

<h2>{{'calculation.display.unitDamages' | translate}}</h2>
<p>
  {{result.buffedMag | number:'1.0-0'}}Â² * {{result.averageTurnPower | number:'1.0-0'}}% * 2
</p>
<p>= {{result.preSprDamages | number:'1.0-0'}}</p>

<h2 *ngIf="result.averageElementalResistance">{{'calculation.display.elementalResistances' | translate}}</h2>
<p *ngIf="result.averageElementalResistance">
  {{result.preSprDamages | number:'1.0-0'}} * (1 - ({{result.averageElementalResistance}}%))
</p>
<p *ngIf="result.averageElementalResistance">= {{result.elementalPreSprDamages | number:'1.0-0'}}</p>

<h2>{{'calculation.display.variances' | translate}}</h2>
<p>{{result.elementalPreDefDamages | number:'1.0-0'}} * {{result.finalVariance}}% / {{algorithm.opponentSpr}}</p>
<p>= <strong>{{result.result | number:'1.0-0'}}</strong></p>
