<mat-dialog-content *ngIf="!locked">
  <div class="filter">
    <mat-form-field>
      <input matInput #itemfilter placeholder="{{'equipment.selection.filter' | translate}}">
    </mat-form-field>
  </div>
  <div class="stmr-exclude">
    <mat-checkbox [(ngModel)]="unitsService.stmrExclusion" (change)="filter()">
      {{'equipment.selection.excludeStmr' | translate}}
    </mat-checkbox>
  </div>
  <div class="equipment unequip" (click)="removeEquipment()" *ngIf="removeable">
    <p><span>&#8617;</span> {{'equipment.selection.remove' | translate}}</p>
  </div>
  <cdk-virtual-scroll-viewport autosize class="equipment-scroll-viewport">
    <div class="equipment" *cdkVirtualFor="let equipment of currentDisplayedEquipments">
      <div>
        <img class="clickable" [src]="equipment.icon" (click)="selectEquipment(equipment)">
      </div>
      <app-equipment-details [equipment]="equipment" [displayWeaponTraits]="false"></app-equipment-details>
    </div>
  </cdk-virtual-scroll-viewport>
</mat-dialog-content>


<mat-dialog-content *ngIf="locked">
  <div class="equipment" *ngIf="!equipments || equipments.length === 0">
    <p class="blocked">{{'equipment.selection.changeBlocked' | translate}}</p>
  </div>
  <div class="equipment" *ngIf="equipments && equipments.length">
    <p class="blocked">{{'equipment.selection.changeBlockedWithAlternatives' | translate}}</p>
  </div>
  <ng-container *ngFor="let equipment of equipments">
    <div class="equipment">
      <div>
        <img [src]="equipment.icon">
      </div>
      <app-equipment-details [equipment]="equipment" [displayWeaponTraits]="false"></app-equipment-details>
    </div>
  </ng-container>
</mat-dialog-content>
